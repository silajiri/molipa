<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ryb√°≈ôsk√Ω Kv√≠z</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>üêü Ryb√°≈ôsk√Ω Znalec</h1>
        <div id="user-display" class="hidden">Ryb√°≈ô: <span id="current-username"></span></div>
    </header>

    <main id="app">
        <section id="screen-login" class="screen">
            <h2>V√≠tej ryb√°≈ôi!</h2>
            <p>Zadej sv√© jm√©no pro vstup do hry:</p>
            <input type="text" id="username-input" placeholder="Tvoje p≈ôezd√≠vka" maxlength="15">
            <br>
            <button class="big-btn primary" onclick="app.login()">Vstoupit</button>

            <div class="partners-footer">
                <p class="org-name">MO L√≠pa nad Orlic√≠</p>
                <div class="logos-row">
                    <img src="assets/images/crs.jpg" alt="ƒåRS" class="partner-logo" title="ƒåesk√Ω ryb√°≈ôsk√Ω svaz">
                    <img src="assets/images/lipa.png" alt="L√≠pa nad Orlic√≠" class="partner-logo" title="L√≠pa nad Orlic√≠">
                    <img src="assets/images/cestice.png" alt="Obec ƒåestice" class="partner-logo" title="Obec ƒåestice">
                </div>
            </div>
        </section>

        <section id="screen-menu" class="screen hidden">
            
            <div style="margin-bottom: 20px; background: #e6f7ff; padding: 15px; border-radius: 8px;">
                <label for="question-count" style="font-weight:bold; margin-right: 10px;">Poƒçet ot√°zek v kv√≠zu:</label>
                <input type="number" id="question-count" min="1" max="50" value="5" style="width: 60px; padding: 5px; text-align: center; font-size: 1.1rem; border: 1px solid #ccc; border-radius: 4px;">
            </div>

            <button class="big-btn primary" onclick="app.startQuiz('classic')">üé£ Pozn√°vaƒçka ryb (Body)</button>
            <button class="big-btn danger-btn" onclick="app.startQuiz('timeattack')">‚è±Ô∏è Pozn√°vaƒçka ryb (ƒåas)</button>
            <button class="big-btn primary" style="background-color: #8e44ad;" onclick="app.startQuiz('knowledge')">üìú Znalec ≈ô√°du</button>
            
            <button class="big-btn secondary" onclick="app.showLearning()">üìñ Atlas ryb</button>
            <button class="big-btn secondary" onclick="app.showLeaderboard('classic')">üèÜ ≈Ωeb≈ô√≠ƒçek</button>
        </section>

        <section id="screen-learning" class="screen hidden">
            <button class="back-btn" onclick="app.showMenu()">zpƒõt do menu</button>
            <div style="clear:both"></div>
            <h2>Atlas ryb</h2>
            <div id="fish-list" class="grid-container"></div>
        </section>

        <section id="screen-quiz" class="screen hidden">
            <div id="status-classic" class="quiz-status hidden">
                <span>Ot√°zka: <span id="q-current">1</span>/<span id="q-total">10</span></span>
                <span>Sk√≥re: <span id="score">0</span></span>
            </div>
            
            <div id="status-time" class="quiz-status hidden">
                <div id="timer-container">‚è±Ô∏è <span id="timer-val">00:00</span></div>
                <div>Ot√°zka: <span id="q-current-time">1</span>/<span id="q-total-time">10</span></div>
            </div>

            <div id="question-container"></div>
            <div id="options-container" class="grid-options"></div>
            <div id="feedback" class="hidden"></div>
            <button id="next-btn" class="hidden" onclick="app.nextQuestion()">Dal≈°√≠ ot√°zka</button>
        </section>

        <section id="screen-result" class="screen hidden">
            <h2 id="result-title">Kv√≠z dokonƒçen!</h2>
            <p class="final-score" id="result-text"></p>
            <button class="big-btn primary" onclick="app.showMenu()">N√°vrat do menu</button>
            <button class="big-btn secondary" onclick="app.showLeaderboard('classic')">Zobrazit ≈æeb≈ô√≠ƒçek</button>
        </section>

        <section id="screen-leaderboard" class="screen hidden">
            <button class="back-btn" onclick="app.showMenu()">zpƒõt do menu</button>
            <div style="clear:both"></div>
            <h2>üèÜ S√≠≈à sl√°vy</h2>
            
            <div class="tabs">
                <button id="tab-classic" class="tab-btn active" onclick="app.showLeaderboard('classic')">Ryby (Body)</button>
                <button id="tab-time" class="tab-btn" onclick="app.showLeaderboard('timeattack')">Ryby (ƒåas)</button>
                <button id="tab-knowledge" class="tab-btn" onclick="app.showLeaderboard('knowledge')">≈ò√°d</button>
            </div>

            <table id="leaderboard-table">
                <thead><tr id="table-header"></tr></thead>
                <tbody></tbody>
            </table>
            
            <div id="history-section" class="hidden">
                <h3>Historie hr√°ƒçe: <span id="history-name"></span></h3>
                <ul id="history-list"></ul>
            </div>
        </section>
    </main>

    <div id="image-modal" class="modal hidden" onclick="app.closeImage()">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="img-expanded">
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>